<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MOMO SUSHI - Prenotazione</title>
    <style>
        :root {
            --momo-dark: #1A2F28;    
            --momo-pink: #E2B491;    
            --momo-bg: #FFFFFF;
            --momo-light-bg: #F9F9F9;
        }

        body {
            background-color: var(--momo-bg); color: var(--momo-dark);
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            margin: 0; padding: 20px; display: flex; justify-content: center;
        }
        .container {
            width: 100%; max-width: 450px; background: #fff;
            padding: 30px; position: relative; text-align: center;
        }
        
        .logo-area { margin-bottom: 25px; }
        .logo-img { max-width: 160px; height: auto; }

        .menu-link-btn {
            display: inline-block; background: var(--momo-pink); 
            color: var(--momo-dark); text-align: center; font-weight: bold;
            padding: 12px 25px; text-decoration: none; font-size: 0.9rem;
            margin-bottom: 20px; letter-spacing: 1px; text-transform: uppercase;
            border-radius: 8px; box-shadow: 0 2px 8px rgba(226, 180, 145, 0.4);
        }

        h2 { font-size: 1.5rem; color: var(--momo-dark); margin-bottom: 30px; font-weight: bold; }

        .service-selector { display: flex; gap: 10px; margin-bottom: 30px; justify-content: center; }
        .service-opt {
            flex: 1; padding: 10px 5px; border: 1.5px solid var(--momo-dark); text-align: center;
            font-size: 0.8rem; cursor: pointer; transition: 0.3s; text-transform: uppercase; 
            border-radius: 25px; color: var(--momo-dark); font-weight: 500;
        }
        .service-opt.active { background: var(--momo-pink); border-color: var(--momo-pink); }

        .form-group { margin-bottom: 20px; display: none; text-align: left; }
        .form-group.visible { display: block; }
        
        label { display: block; margin-bottom: 8px; font-size: 0.8rem; color: var(--momo-dark); font-weight: bold; }
        
        input, select, textarea {
            width: 100%; padding: 12px; background: #fff; border: 1.5px solid var(--momo-dark);
            color: var(--momo-dark); font-size: 1rem; outline: none; border-radius: 8px; box-sizing: border-box;
        }

        .time-double-row { display: flex; gap: 10px; }
        .time-double-row select { flex: 1; }

        .input-relative { position: relative; }
        input[type="date"]::-webkit-calendar-picker-indicator {
            width: 100%; height: 100%; position: absolute; top: 0; left: 0; opacity: 0; cursor: pointer;
        }

        textarea { height: 100px; resize: none; }

        .info-box { background: var(--momo-light-bg); padding: 12px; font-size: 0.85rem; border-top: 1px solid #EEE; border-bottom: 1px solid #EEE; margin-bottom: 20px; color: #666; }

        .btn-send {
            background: var(--momo-dark); color: var(--momo-pink); border: none; padding: 16px;
            width: 80%; font-size: 1.1rem; font-weight: bold; text-transform: capitalize;
            cursor: pointer; margin-top: 10px; border-radius: 8px; box-shadow: 0 4px 12px rgba(26, 47, 40, 0.3);
        }

        .footer-info {
            margin-top: 40px; text-align: center; border-top: 1px solid #EEE;
            padding-top: 20px; font-size: 0.8rem; color: #888; line-height: 1.6;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="logo-area">
        <img src="logo.png" alt="MOMO SUSHI" class="logo-img">
    </div>

    <a href="https://drive.google.com/file/d/1lQ9T968SoBAhp_9FKSJ_jijmOqh8C13c/view" target="_blank" class="menu-link-btn">
        üìñIL MEN√ô TAKE AWAY
    </a>

    <h2>Prenotazione & Ordini</h2>

    <div class="service-selector">
        <div class="service-opt active" onclick="switchService('tavolo', this)">Tavolo</div>
        <div class="service-opt" onclick="switchService('asporto', this)">Asporto</div>
        <div class="service-opt" onclick="switchService('domicilio', this)">Domicilio</div>
    </div>

    <div class="form-group visible">
        <label>Nome e Cognome</label>
        <input type="text" id="name" placeholder="Inserisci il tuo nome">
    </div>
    <div class="form-group visible">
        <label>Telefono</label>
        <input type="tel" id="phone" placeholder="Il tuo cellulare">
    </div>

    <div id="section-tavolo">
        <div class="form-group visible">
            <label>Data</label>
            <div class="input-relative">
                <input type="date" id="date_tavolo" onfocus="this.showPicker()">
            </div>
        </div>
        <div class="form-group visible">
            <label>Ora (Ore : Minuti)</label>
            <div class="time-double-row">
                <select id="hour_tavolo" class="hour-select"></select>
                <select id="min_tavolo" class="min-select"></select>
            </div>
        </div>
        <div class="form-group visible">
            <label>Persone</label>
            <select id="people">
                <option value="1">1 Persona</option>
                <option value="2" selected>2 Persone</option>
                <option value="3">3 Persone</option>
                <option value="4">4 Persone</option>
                <option value="5">5 Persone</option>
                <option value="6">6 Persone</option>
                <option value="7">7 Persone</option>
                <option value="8">8 Persone</option>
                <option value="9">9 Persone</option>
                <option value="10">10 Persone</option>
                <option value="10+">Gruppo (10+)</option>
            </select>
        </div>
    </div>

    <div id="section-asporto" style="display: none;">
        <div class="info-box">üìç Ritiro presso: <strong>Via Brandolini 5, Oderzo</strong></div>
        <div class="form-group visible">
            <label>Orario di ritiro</label>
            <div class="time-double-row">
                <select id="hour_asporto" class="hour-select"></select>
                <select id="min_asporto" class="min-select"></select>
            </div>
        </div>
    </div>

    <div id="section-domicilio" style="display: none;">
        <div class="form-group visible">
            <label>Indirizzo di Consegna</label>
            <input type="text" id="address" placeholder="Via e Numero Civico">
        </div>
        <div class="form-group visible">
            <label>Nome sul Citofono (Campanello)</label>
            <input type="text" id="citofono" placeholder="Nome scritto sul campanello">
        </div>
        <div class="form-group visible">
            <label>Orario desiderato</label>
            <div class="time-double-row">
                <select id="hour_delivery" class="hour-select"></select>
                <select id="min_delivery" class="min-select"></select>
            </div>
        </div>
    </div>

    <div id="section-note" class="form-group">
        <label>I tuoi Piatti / Note</label>
        <textarea id="notes" placeholder="Scrivi qui i numeri dei piatti... Es: n2x2, n13x2, n55x1, n155x3..."></textarea>
    </div>

    <button class="btn-send" onclick="sendOrder()">Invia su WhatsApp</button>

    <div class="footer-info">
        <strong>MOMO SUSHI</strong><br>
        üìç Via Brandolini 5, 31046 ODERZO (TV)<br>
        üìû Tel: +39 327 666 8518<br>
        üïí 12:00 - 15:00 | 18:30 - 22:30
    </div>
</div>

<script>
    function setupTimeSelects() {
        const hourSelects = document.querySelectorAll('.hour-select');
        const minSelects = document.querySelectorAll('.min-select');
        const hours = [12, 13, 14, 15, 18, 19, 20, 21, 22];
        const minutes = ["00", "15", "30", "45"];
        hourSelects.forEach(select => {
            hours.forEach(h => {
                let opt = document.createElement('option');
                opt.value = h; opt.innerText = h.toString().padStart(2, '0');
                select.appendChild(opt);
            });
        });
        minSelects.forEach(select => {
            minutes.forEach(m => {
                let opt = document.createElement('option');
                opt.value = m; opt.innerText = m;
                select.appendChild(opt);
            });
        });
    }

    window.onload = setupTimeSelects;

    let currentService = 'tavolo';

    function switchService(type, el) {
        currentService = type;
        document.querySelectorAll('.service-opt').forEach(opt => opt.classList.remove('active'));
        el.classList.add('active');
        document.getElementById('section-tavolo').style.display = (type === 'tavolo') ? 'block' : 'none';
        document.getElementById('section-asporto').style.display = (type === 'asporto') ? 'block' : 'none';
        document.getElementById('section-domicilio').style.display = (type === 'domicilio') ? 'block' : 'none';
        document.getElementById('section-note').classList.toggle('visible', type !== 'tavolo');
    }

    function sendOrder() {
        const name = document.getElementById('name').value;
        const phone = document.getElementById('phone').value;
        const myNumber = "393276668518"; 

        if(!name || !phone) { alert("Completa nome e telefono"); return; }

        let h, m;
        if(currentService === 'tavolo') { h = document.getElementById('hour_tavolo').value; m = document.getElementById('min_tavolo').value; }
        else if(currentService === 'asporto') { h = document.getElementById('hour_asporto').value; m = document.getElementById('min_asporto').value; }
        else { h = document.getElementById('hour_delivery').value; m = document.getElementById('min_delivery').value; }

        const totalMin = parseInt(h) * 60 + parseInt(m);
        const isLunch = (totalMin >= 12*60 && totalMin <= 15*60);
        const isDinner = (totalMin >= 18*60+30 && totalMin <= 22*60+30);
        if(!isLunch && !isDinner) { alert("Siamo chiusi in questo orario (12-15 / 18:30-22:30)"); return; }

        let details = "";
        const notes = document.getElementById('notes').value;
        const timeVal = `${h}:${m}`;
        
        if(currentService === 'tavolo') {
            details = `üå∏ *PRENOTAZIONE MOMO*%0Aüóì Data: ${document.getElementById('date_tavolo').value}%0A‚è∞ Ora: ${timeVal}%0Aüë• Persone: ${document.getElementById('people').value}`;
        } else if(currentService === 'asporto') {
            details = `ü•° *ORDINE ASPORTO*%0A‚è∞ Ritiro: ${timeVal}%0Aüìù Piatti: ${notes}`;
        } else {
            const citofono = document.getElementById('citofono').value;
            details = `üöÄ *ORDINE DOMICILIO*%0Aüìç Indirizzo: ${document.getElementById('address').value}%0Aüîî Citofono: ${citofono}%0A‚è∞ Orario: ${timeVal}%0Aüìù Piatti: ${notes}`;
        }

        const message = `${details}%0A---------------------------%0Aüë§ Cliente: ${name}%0Aüìû Tel: ${phone}`;
        window.open(`https://wa.me/${myNumber}?text=${message}`, '_blank');
    }

    document.getElementById('date_tavolo').valueAsDate = new Date();
</script>

</body>
</html>
